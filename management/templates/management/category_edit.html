{% extends "management/base.html" %}

{% load static %}
{% load crispy_forms_tags %}

{% block title %}Edit {{ category }}{% endblock title %}

{% block content %}
  <!-- Heading -->
  <div class="card mb-4 wow fadeIn">

    <!--Card content-->
    <div class="card-body d-sm-flex justify-content-between">

      <h4 class="mb-2 mb-sm-0 pt-1">
        <a href="{% url 'management:category_list' %}">Categories</a>
        <span>/ {{ category.id }} /</span>
        <span>Edit</span>
      </h4>

    </div>

  </div>
  <!-- Heading -->

  <!--Card-->
  <div class="card mx-auto mw-1">

    <!--Card content-->
    <div class="card-body">

      <form method="POST" class="d-inline">
        {% csrf_token %}
        {{ form|crispy }}
        <button class="btn btn-primary">Update</button>
      </form>

      <form action="{% url 'management:category_delete' category.pk %}" method="POST" class="d-inline js-confirm-form-submit" data-confirm-msg="This will delete all products that belong to this category.&#10;are you sure to continue?">
        {% csrf_token %}
        <button class="btn btn-danger">Delete</button>
      </form>

    </div>

  </div>
{% endblock content %}

{% block extra_scripts %}
  <script type="text/javascript" src="{% static 'mystatic/js/confirm_form_submit.js' %}"></script>
{% endblock extra_scripts %}